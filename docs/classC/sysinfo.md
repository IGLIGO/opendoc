# class C - 系统信息`0x06`

> [!TIP]
> 括号内表示兼容的参数

## 0x21. 获取设备分类识别码

| 操作 | 接口索引 | 操作数 | 参数     |
| ---- | -------- | ------ | -------- |
| 获取 | 0x06     | 0x21   | /        |
| 返回 | 0x06     | 0x21   | hex code |

> 例：  
> `APP->:` `fc`, `length=2`, `0x06`, `0x21`  
> `->APP:` `fc`, `length`, `0x06`, `0x21`, `0x01(识别码)`  

> [!NOTE]
> 设备分类识别码同时放置于广播包厂商信息的第`3`个字节处



> [!TIP]
> 访问[**设备信息列表**](docs/classC/devices.md)获取更多信息

## 0x22. 获取设备唯一识别码(`+3.5.0`)

| 操作 | 接口索引 | 操作数 | 参数     |
| ---- | -------- | ------ | -------- |
| 获取 | 0x06     | 0x22   | /        |
| 返回 | 0x06     | 0x22   | hex code |

> 例：  
> `APP->:` `fc`, `length=2`, `0x06`, `0x22`  
> `->APP:` `fc`, `length`, `0x06`, `0x21`, `{0xA1,0xB2,0xC3,0xD4,0xE5,0xF6}(唯一识别码)`  

> [!TIP]
> 返回的长度由具体设备决定，一般不少于`6`个字节



## 0x10.获取OTA名称(`+3.5.0`)

| 操作 | 接口索引 | 操作数 | 参数                                       |
| ---- | -------- | ------ | ------------------------------------------ |
| 获取 | 0x06     | 0x10   | 0x00:获取`项目名称`<br>0x01:获取`分支名称` |
| 返回 | 0x06     | 0x10   | string                                     |

> 例1：  
> `APP->:` `fc`, `length=3`, `0x06`, `0x10`,`0x00`  
> `->APP:` `fc`, `length`, `0x06`, `0x10`, `"CSW-V1-30"`
>
> 例2：  
> `APP->:` `fc`, `length=3`, `0x06`, `0x10`,`0x01`  
> `->APP:` `fc`, `length`, `0x06`, `0x10`, `"LSK"`

## 0x11(0x01).获取固件版本

| 操作 | 接口索引 | 操作数  | 参数   |
| ---- | ---- | ---- | ---- |
| 获取 | 0x06 | 0x11(0x01) | /  |
| 返回 | 0x06 | 0x11 | string |

> 例：  
> `APP->:` `fc`, `length=2`, `0x06`, `0x01`  
> `->APP:` `fc`, `length`, `0x06`, `0x01`, `'v'`, `'1'`, `'.'`, `'0'`  


## 0x12(0x02).获取编译日期

| 操作 | 接口索引 | 操作数  | 参数   |
| ---- | ---- | ---- | ---- |
| 获取 | 0x06 | 0x12(0x02) | /  |
| 返回 | 0x06 | 0x12 | string |

> 例：  
> `APP->:` `fc`, `length=2`, `0x06`, `0x12`  
> `->APP:` `fc`, `length`, `0x06`, `0x12`, `日期字符串`  


## 0x13.获取编译时间

| 操作 | 接口索引 | 操作数  | 参数   |
| ---- | ---- | ---- | ---- |
| 获取 | 0x06 | 0x13 | /  |
| 返回 | 0x06 | 0x13 | string |

> 例：  
> `APP->:` `fc`, `length=2`, `0x06`, `0x13`  
> `->APP:` `fc`, `length`, `0x06`, `0x13`, `时间字符串`  


## 0x14.获取编译序列号

| 操作 | 接口索引 | 操作数  | 参数   |
| ---- | ---- | ---- | ---- |
| 获取 | 0x06 | 0x13 | /  |
| 返回 | 0x06 | 0x13 | string |

> 例：  
> `APP->:` `fc`, `length=2`, `0x06`, `0x14`  
> `->APP:` `fc`, `length`, `0x06`, `0x14`, `序列号字符串`  


## 0x03.系统类型

| 系统      | 值    |
| ------- | ---- |
| iOS     | 0x00 |
| Android | 0x01 |
| Other   | 0xFF |

> [!NOTE]
> 因为兼容原因，本条需根据长度判断是获取还是设置，长度为`2`则为获取，为`3`则为设置

| 操作 | 接口索引 | 操作数  | 参数   |
| ---- | ---- | ---- | ---- |
| 获取 | 0x06 | 0x03 | /  |
| 设置 | 0x06 | 0x03 | 系统类型 |
| 返回`ACK` | 0x06 | 0x03 | / |

> 例1：  
> `APP->:` `fc`, `length=2`, `0x06`, `0x03`  
> `->APP:` `fc`, `length=3`, `0x06`, `0x03`, `0x00(ios)`  

> 例2：  
> `APP->:` `fc`, `length=3`, `0x06`, `0x03`, `0x01(android)`  
> `->APP:` `ack`  

## 0x04.广播名称

### 获取<0x00>

| 操作 | 接口索引 | 操作数  | 参数   |
| ---- | ---- | ---- | ---- |
| 获取 | 0x06 | 0x04 | 0x00  |
| 返回 | 0x06 | 0x04 | string |

> 例：  
> `->MCU:` `fc`, `length=3`, `0x06`, `0x04`, `0x00`  
> `MCU->:` `fc`, `length=8`, `0x06`, `0x04`, `'C'`, `'O'`, `'R'`, `'U'`, `'M'`, `'I'`  

### 设置<0x01>

| 操作 | 接口索引 | 操作数  | 参数   |
| ---- | ---- | ---- | ---- |
| 获取 | 0x06 | 0x04 | 0x01,name_string  |
| 返回`ACK` | 0x06 | 0x04 | / |

更改广播名称后，重启生效。可询问用户是否立即重启，然后发送重启命令。

> [!NOTE]
> 广播名称设置不能超过12字节。如果长度为`0`，或者第一个字节为`0x00`，将视为无效。  
> iOS可能由于缓存原因不会立即更新显示名称  

> 例：  
> `->MCU:` `fc`, `length=7`, `0x06`, `0x04`, `0x01`, `'T'`, `'E'`, `'S'`, `'T'`  
> `MCU->:` `ACK`  


## 0x05.获取MAC地址

| 操作 | 接口索引 | 操作数  | 参数   |
| ---- | ---- | ---- | ---- |
| 获取 | 0x06 | 0x05 | 0x00 |
| 返回 | 0x06 | 0x05 | hex_array |

> 例:  
> `->MCU:` `fc`, `length=3`, `0x06`, `0x05`, `0x00`  
> `MCU->:` `fc`, `length=8`, `0x06`, `0x05`, `0xDE`, `0xAD`, `0xBF`, `0xCC`, `0xAA`, `0xEE`  



## 0x06. 获取绑定状态(`+3.5.0`)

| 操作 | 接口索引 | 操作数  | 参数   |
| ---- | ---- | ---- | ---- |
| 获取 | 0x06 | 0x06 | / |
| 返回 | 0x06 | 0x06 | 0:(未绑定)<br>1:(已绑定) |

> 例:  
> `->MCU:` `fc`, `length=2`, `0x06`, `0x06`  
> `MCU->:` `fc`, `length=3`, `0x06`, `0x06`, `0x01(已绑定)` 



## 0x30. 获取马达使用率数据(`type B`)

| 操作 | 接口索引 | 操作数 | 参数                                                         |
| ---- | -------- | ------ | ------------------------------------------------------------ |
| 获取 | 0x06     | 0x20   | 获取:0x01<br>清除:0x04                                       |
| 返回 | 0x06     | 0x20   | 总震动时长(4bytes毫秒)<br/>提醒震动次数(4bytes次数)<br/>提醒震动时长(4bytes毫秒) |

> 例:  
> `->MCU`: `fc`, `length=3`, `0x06`, `0x30`, `0x01`
> `MCU->`: `fc`, `length=14`, `0x06`, `0x30`, `0x34`, `0x02`, `0x01`, `0x00`, `0x28`, `0x00`, `0x00`, `0x00`, `0x40`, `0x9c`, `0x00`, `0x00` `(总震动时长=0x10234=66.100秒)` `(提醒震动=0x28=40次)` `(提醒震动时长=0x9c40=40.000秒)`




## 0x31. 获取屏幕使用率数据(`type B`)

| 操作 | 接口索引 | 操作数 | 参数                                                         |
| ---- | -------- | ------ | ------------------------------------------------------------ |
| 获取 | 0x06     | 0x21   | 获取:0x01<br>清除:0x04                                       |
| 返回 | 0x06     | 0x21   | 总亮屏时长(4bytes秒)<br>抬腕亮屏次数(4bytes次数)<br>抬腕亮屏时长(4bytes秒) |

> 例:  
> `->MCU`: `fc`, `length=3`, `0x06`, `0x31`, `0x01`
> `MCU->`: `fc`, `length=14`, `0x06`, `0x31`, `0x10`, `0x0e`, `0x00`, `0x00`, `0x20`, `0x03`, `0x00`, `0x00`, `0x57`, `0x04`, `0x00`, `0x00` `(总亮屏时长=0xe10=3600秒)` `(抬腕亮屏次数=0x320=800次)` `(抬腕亮屏时长=0x457=1111秒)`




## 0x32. 获取心率使用率数据(`type B`)

| 操作 | 接口索引 | 操作数 | 参数                                             |
| ---- | -------- | ------ | ------------------------------------------------ |
| 获取 | 0x06     | 0x22   | 获取:0x01<br>清除:0x04                           |
| 返回 | 0x06     | 0x22   | 心率测量时长(4bytes秒)<br>心率测量次数(4bytes秒) |

> 例:  
> `->MCU`: `fc`, `length=3`, `0x06`, `0x32`, `0x01`
> `MCU->`: `fc`, `length=10`, `0x06`, `0x32`, `0x83`, `0x04`, `0x00`, `0x00`, `0x19`, `0x00`, `0x00`, `0x00`,  `(心率测量=0x483=1155秒)` `(心率测量次数=0x19=25次)` 




## 0x33. 获取蓝牙使用率数据(`type B`)

| 操作 | 接口索引 | 操作数 | 参数                                                         |
| ---- | -------- | ------ | ------------------------------------------------------------ |
| 获取 | 0x06     | 0x23   | 获取:0x01<br>清除:0x04                                       |
| 返回 | 0x06     | 0x23   | 蓝牙广播时长(4bytes秒)<br>蓝牙连接时长(4bytes秒)<br>蓝牙断开次数(4bytes次数) |

> 例:  
> `->MCU`: `fc`, `length=3`, `0x06`, `0x33`, `0x01`
> `MCU->`: `fc`, `length=14`, `0x06`, `0x33`, `0x03`, `0x02`, `0x01`, `0x00`, `0x01`, `0x02`, `0x03`, `0x00`, `0x71`, `0x00`, `0x00`, `0x00` `(广播=0x10203=66051秒)` `(连接=0x30201=197121秒)` `(断开=0x71=113次)`


