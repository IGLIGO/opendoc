# class C - 系统信息`0x06`

Hint: 括号内表示兼容的参数

## 0x21. 获取设备识别码

| 操作 | 接口索引 | 操作数 | 参数     |
| ---- | -------- | ------ | -------- |
| 获取 | 0x06     | 0x21   | /        |
| 返回 | 0x06     | 0x21   | hex code |

> 例：
> `APP->:fc,length=2,0x06,0x21`
> `->APP:fc,length,0x06,0x21,0x01(识别码)`

Note: 设备识别码同时放置于广播包厂商信息的第`3`个字节处

| 识别码 | 设备型号 | 备注           |
| ------ | -------- | -------------- |
| 0x01   | V1-MKI   | V1三针半       |
| 0x02   | V1-MKII  | V1三针         |
| 0x03   | V1-MKIII | V1两针半       |
| 0x04   | V1-MKIV  | V1两针         |
| 0x08   | B5-MKI   | B5有OLED有心率 |
| 0x09   | B5-MKII  | B5无OLED有心率 |
| 0x0A   | B5-MKIII | B5无OLED无心率 |
| 0x12   | B6-MKI   | B6三针异步     |



## 0x11(0x01).获取固件版本

| 操作 | 接口索引 | 操作数  | 参数   |
| ---- | ---- | ---- | ---- |
| 获取 | 0x06 | 0x11(0x01) | /  |
| 返回 | 0x06 | 0x11 | string |

> 例：
> `APP->:fc,length=2,0x06,0x01`
> `->APP:fc,length,0x06,0x01,'v','1','.','0'`


## 0x12(0x02).获取编译日期

| 操作 | 接口索引 | 操作数  | 参数   |
| ---- | ---- | ---- | ---- |
| 获取 | 0x06 | 0x12(0x02) | /  |
| 返回 | 0x06 | 0x12 | string |

> 例：
> `APP->:fc,length=2,0x06,0x12`
> `->APP:fc,length,0x06,0x12,日期字符串`


## 0x13.获取编译时间

| 操作 | 接口索引 | 操作数  | 参数   |
| ---- | ---- | ---- | ---- |
| 获取 | 0x06 | 0x13 | /  |
| 返回 | 0x06 | 0x13 | string |

> 例：
> `APP->:fc,length=2,0x06,0x13`
> `->APP:fc,length,0x06,0x13,时间字符串`


## 0x14.获取编译序列号

| 操作 | 接口索引 | 操作数  | 参数   |
| ---- | ---- | ---- | ---- |
| 获取 | 0x06 | 0x13 | /  |
| 返回 | 0x06 | 0x13 | string |

> 例：
> `APP->:fc,length=2,0x06,0x14`
> `->APP:fc,length,0x06,0x14,序列号字符串`


## 0x03.系统类型

| 系统      | 值    |
| ------- | ---- |
| iOS     | 0x00 |
| Android | 0x01 |
| Other   | 0xFF |

Note: 因为兼容原因，本条需根据长度判断是获取还是设置，长度为`2`则为获取，为`3`则为设置

| 操作 | 接口索引 | 操作数  | 参数   |
| ---- | ---- | ---- | ---- |
| 获取 | 0x06 | 0x03 | /  |
| 设置 | 0x06 | 0x03 | 系统类型 |
| 返回`ACK` | 0x06 | 0x03 | / |

> 例：
> `APP->:fc,length=2,0x06,0x03`
> `->APP:fc,length=3,0x06,0x03,0x00(ios)`

> 例：
> `APP->:fc,length=3,0x06,0x03,0x01(android)`
> `->APP:ack`

## 0x04.广播名称

### 获取:

| 操作 | 接口索引 | 操作数  | 参数   |
| ---- | ---- | ---- | ---- |
| 获取 | 0x06 | 0x04 | 0x00  |
| 返回 | 0x06 | 0x04 | string |

> 例：
> `->MCU:fc,length=3,0x06,0x04,0x00`
> `MCU->:fc,length=8,0x06,0x04,'B','P','C','-','X','X'`

### 设置:

| 操作 | 接口索引 | 操作数  | 参数   |
| ---- | ---- | ---- | ---- |
| 获取 | 0x06 | 0x04 | 0x01,name_string  |
| 返回`ACK` | 0x06 | 0x04 | / |

更改广播名称后，重启生效。可询问用户是否立即重启，然后发送重启命令。

Note: 广播名称设置不能超过12字节。如果长度为`0`，或者第一个字节为`0x00`，将视为无效。

*iOS可能由于缓存原因不会立即更新显示名称*

> 例：
> `->MCU:fc,length=7,0x06,0x04,0x01,'T','E','S','T'`
> `MCU->:ACK`


## 0x05.获取MAC地址

| 操作 | 接口索引 | 操作数  | 参数   |
| ---- | ---- | ---- | ---- |
| 获取 | 0x06 | 0x05 | 0x00 |
| 返回 | 0x06 | 0x05 | hex_array |

> 例:
> `->MCU:fc,length=3,0x06,0x05,0x00`
> `MCU->:fc,length=8,0x06,0x05,0xDE,0xAD,0xBF,0xCC,0xAA,0xEE`

